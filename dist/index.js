!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.murphy=t():e.murphy=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>I});const{LEFT_TO_RIGHT:n,RIGHT_TO_LEFT:o,TOP_TO_BOTTOM:a,BOTTOM_TO_TOP:r,MURPHY_SELECTOR:i,APPEARANCE_DISTANCE_DEFAULT:s,ELEMENT_DISTANCE_DEFAULT:c,EASE_DEFAULT:p,ANIMATION_DELAY_DEFAULT:l,THRESHOLD_DEFAULT:m,ANIMATION_DURATION_DEFAULT:T}={LEFT_TO_RIGHT:"left-to-right",RIGHT_TO_LEFT:"right-to-left",TOP_TO_BOTTOM:"top-to-bottom",BOTTOM_TO_TOP:"bottom-to-top",MURPHY_SELECTOR:"[data-murphy]",APPEARANCE_DISTANCE_DEFAULT:50,ELEMENT_DISTANCE_DEFAULT:30,EASE_DEFAULT:"ease",ANIMATION_DELAY_DEFAULT:300,THRESHOLD_DEFAULT:1,ANIMATION_DURATION_DEFAULT:300},E=(e,t,n={})=>{const o=new CustomEvent(`murphy:${t}`,{detail:{element:e,...n}});document.dispatchEvent(o)},y=()=>h()?document.querySelectorAll(i).forEach((e=>{O(e)})):d(),d=()=>{document.querySelectorAll(i).forEach((e=>{e.style.opacity=1,e.animate&&e.animate([{opacity:"1"},{opacity:"1"}],{duration:1,fill:"forwards"}),E(e,"cancel")}))},u=()=>{document.querySelectorAll(i).forEach((e=>{e.style.opacity=0,e.animate&&e.animate([{opacity:"0"},{opacity:"0"}],{duration:1,fill:"forwards"}),E(e,"reset")}))},A=()=>{document.querySelectorAll(i).forEach((e=>{e._observer&&(e._observer.disconnect(),delete e._observer),E(e,"cleanup")}))},O=e=>{const t=e.dataset.murphy||r,n=e.dataset.murphyAppearanceDistance||s,o=e.dataset.murphyElementDistance||c,a=e.dataset.murphyEase||p,i=parseInt(e.dataset.murphyAnimationDelay)||l,E=parseFloat(e.dataset.murphyElementThreshold)||m,y=parseInt(e.dataset.murphyAnimationDuration)||T,d=e.dataset.murphyRootMargin||`0px 0px ${-1*n}px 0px`;_({elementOptions:{element:e,animationType:t,animationDuration:y,elementDistance:o,ease:a,delay:i},observerOptions:{threshold:E,rootMargin:d}})},_=({elementOptions:e,observerOptions:t})=>{try{const n=e.element,o=e.animationType,a=new IntersectionObserver((()=>{let t;return(...r)=>{clearTimeout(t),t=setTimeout((()=>(t=>{t.forEach((t=>{const{intersectionRatio:r}=t;r>0?(f(e,o),a.unobserve(t.target),E(n,"in",{intersectionRatio:r})):E(n,"out",{intersectionRatio:r})}))})(...r)),100)}})(),t);n._observer=a,a.observe(n)}catch(t){console.warn("IntersectionObserver not supported:",t),f(e,animationType),E(element,"in",{error:"IntersectionObserver not supported"})}},f=(e,t)=>{const n=e.animationDuration,o=e.delay,a=e.element,r=e.elementDistance,i=e.ease,s={elementDistance:r};a.animate?a.animate(D(t,s),{duration:n,fill:"forwards",easing:i,delay:o}).onfinish=()=>{E(a,"finish")}:d()},D=(e=r,t)=>({[r]:[{opacity:"0",transform:`translateY(${t.elementDistance}px)`},{opacity:"1",transform:"translateY(0px)"}],[a]:[{opacity:"0",transform:`translateY(-${t.elementDistance}px)`},{opacity:"1",transform:"translateY(0px)"}],[n]:[{opacity:"0",transform:`translateX(-${t.elementDistance}px)`},{opacity:"1",transform:"translateX(0px)"}],[o]:[{opacity:"0",transform:`translateX(${t.elementDistance}px)`},{opacity:"1",transform:"translateX(0px)"}]}[e]),h=()=>!!window.Animation&&!!(window.IntersectionObserver&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype);window.murphy={play:y,cancel:d,reset:u,cleanup:A};const I={play:y,cancel:d,reset:u,cleanup:A};return t.default})()));